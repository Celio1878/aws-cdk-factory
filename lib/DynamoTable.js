"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.DynamoTable = void 0;
const aws_cdk_lib_1 = require("aws-cdk-lib");
const dynamodb = require("aws-cdk-lib/aws-dynamodb");
const normalize_name_1 = require("./normalize_name");
function DynamoTable(stack, name, partitionKey, props = {}) {
    return new dynamodb.Table(stack, (0, normalize_name_1.normalize_name)(name), {
        tableName: name,
        billingMode: dynamodb.BillingMode.PAY_PER_REQUEST,
        removalPolicy: aws_cdk_lib_1.RemovalPolicy.RETAIN,
        pointInTimeRecovery: true,
        partitionKey,
        ...props,
    });
}
exports.DynamoTable = DynamoTable;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRHluYW1vVGFibGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJEeW5hbW9UYWJsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSw2Q0FBbUQ7QUFDbkQscURBQXFEO0FBRXJELHFEQUFrRDtBQUVsRCxTQUFnQixXQUFXLENBQzFCLEtBQVksRUFDWixJQUFZLEVBQ1osWUFBZ0MsRUFDaEMsUUFBNkIsRUFBRTtJQUUvQixPQUFPLElBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsSUFBQSwrQkFBYyxFQUFDLElBQUksQ0FBQyxFQUFFO1FBQ3RELFNBQVMsRUFBRSxJQUFJO1FBQ2YsV0FBVyxFQUFFLFFBQVEsQ0FBQyxXQUFXLENBQUMsZUFBZTtRQUNqRCxhQUFhLEVBQUUsMkJBQWEsQ0FBQyxNQUFNO1FBQ25DLG1CQUFtQixFQUFFLElBQUk7UUFDekIsWUFBWTtRQUNaLEdBQUcsS0FBSztLQUNSLENBQUMsQ0FBQztBQUNKLENBQUM7QUFkRCxrQ0FjQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlbW92YWxQb2xpY3ksIFN0YWNrIH0gZnJvbSAnYXdzLWNkay1saWInO1xuaW1wb3J0ICogYXMgZHluYW1vZGIgZnJvbSAnYXdzLWNkay1saWIvYXdzLWR5bmFtb2RiJztcbmltcG9ydCB7IFRhYmxlUHJvcHMgfSBmcm9tICdhd3MtY2RrLWxpYi9hd3MtZHluYW1vZGInO1xuaW1wb3J0IHsgbm9ybWFsaXplX25hbWUgfSBmcm9tICcuL25vcm1hbGl6ZV9uYW1lJztcblxuZXhwb3J0IGZ1bmN0aW9uIER5bmFtb1RhYmxlKFxuXHRzdGFjazogU3RhY2ssXG5cdG5hbWU6IHN0cmluZyxcblx0cGFydGl0aW9uS2V5OiBkeW5hbW9kYi5BdHRyaWJ1dGUsXG5cdHByb3BzOiBQYXJ0aWFsPFRhYmxlUHJvcHM+ID0ge31cbikge1xuXHRyZXR1cm4gbmV3IGR5bmFtb2RiLlRhYmxlKHN0YWNrLCBub3JtYWxpemVfbmFtZShuYW1lKSwge1xuXHRcdHRhYmxlTmFtZTogbmFtZSxcblx0XHRiaWxsaW5nTW9kZTogZHluYW1vZGIuQmlsbGluZ01vZGUuUEFZX1BFUl9SRVFVRVNULFxuXHRcdHJlbW92YWxQb2xpY3k6IFJlbW92YWxQb2xpY3kuUkVUQUlOLFxuXHRcdHBvaW50SW5UaW1lUmVjb3Zlcnk6IHRydWUsXG5cdFx0cGFydGl0aW9uS2V5LFxuXHRcdC4uLnByb3BzLFxuXHR9KTtcbn1cbiJdfQ==